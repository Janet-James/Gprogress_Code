var globalCompanyId = null;
var loading_company_id;
$(document).ready(function(){
	$("#loading").hide();
    $.ajax({
        url: "/service_desk/dashboard/",
        method: "get",
    }).done(function(json_data) {     
      var data = JSON.parse(json_data);
      console.log("--- Company List --- ", data)    
      var Company_Dropdown ='<select name="company_list" id="company_list_item">'
          Company_Dropdown += '<option value="">--- Select Company ---</option>'
          company_list = data.company_list
          company_list.forEach((position, index) => {
            Company_Dropdown += `<option value="${position.company_id}" ${index === 0 ? 'selected' : ''}>${position.company_name}</option>`;
          });
          Company_Dropdown += '</select>';
          var Company_List_Dropdown = `${Company_Dropdown}`;
      $('.company_dropdown_d').append(Company_List_Dropdown)
      loading_company_id = company_list[0].company_id
      $.ajax({
        url : "/service_desk/company_based_details/",
        type: 'post',
        data: {
            "company_id":loading_company_id,
        },
      }).done(function (json_data){
        data = JSON.parse(json_data)
        Serivce_Desk_Data(data)
        HelpTopicData(data)
        Servicedesk_Monthwise_ticketcount(data)
        help_topic_dropdown(data)
    })
    // Company Based Service Desk Details Get
    $("#company_list_item").on('change', function() {
        globalCompanyId = $(this).val();
        var csrf_data = $("input[name=csrfmiddlewaretoken]").val();
          $.ajax({
              url : "/service_desk/company_based_details/",
              type: 'post',
              data: {
                  "company_id":globalCompanyId,
                  csrfmiddlewaretoken: csrf_data
              },
          }).done(function (json_data){
              data = JSON.parse(json_data)
              $('.card_div_dom').empty();
              $('.unresolved_ticket_count_div').empty();
              $('.Help_topic_graph_div').empty();
              Serivce_Desk_Data(data)
              HelpTopicData(data)
              Servicedesk_Monthwise_ticketcount(data)
              help_topic_dropdown(data)
            })
        })                    
    })
})  
 
function Serivce_Desk_Data(response){
    data = response
    console.log("--- Company Based Response Data ---", data)
    CardViewDOMHTML = ''
    CardViewDOMHTML +=
    `<div class="dashboard_green_card">
    <div class="row responsive_card_class">
    <div class="col-sm-6 col-md-6">
                             <div class="dashboard_card_1">
                                 <div class="d_cardText">Tickets Raised
                                     <p class="d_cardNumber">${data.todays_created_ticket_status_count.
                                         todays_created_opened_ticket_status_count}</p>
                                 </div>
                                 <div class="d_ticketIcon">
                                     <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30"
                                         viewBox="0 0 30 30" fill="none">
                                         <path
                                             d="M28.7214 10.6288L26.1356 8.04305C25.927 7.83724 25.6488 7.71707 25.356 7.70622C25.0632 7.69537 24.7769 7.79464 24.5536 7.98445C24.2089 8.27785 23.7666 8.43105 23.3142 8.41369C22.8619 8.39632 22.4326 8.20967 22.1114 7.8907C21.7926 7.56954 21.6061 7.14036 21.5887 6.68817C21.5713 6.23598 21.7244 5.79376 22.0177 5.4491C22.2075 5.22583 22.3067 4.93955 22.2959 4.6467C22.285 4.35385 22.1649 4.07569 21.9591 3.86707L19.371 1.2784C19.1523 1.0601 18.8559 0.9375 18.5469 0.9375C18.2378 0.9375 17.9415 1.0601 17.7227 1.2784L13.6007 5.39988C13.3462 5.65529 13.1542 5.96614 13.0399 6.30809C13.0177 6.37383 12.9806 6.43356 12.9315 6.48264C12.8824 6.53172 12.8227 6.56883 12.7569 6.59109C12.4148 6.70542 12.1039 6.89756 11.8487 7.15242L1.2784 17.7227C1.0601 17.9415 0.9375 18.2378 0.9375 18.5469C0.9375 18.8559 1.0601 19.1523 1.2784 19.371L3.86707 21.9567C4.07569 22.1625 4.35385 22.2827 4.6467 22.2935C4.93955 22.3044 5.22583 22.2051 5.4491 22.0153C5.79298 21.7195 6.23593 21.5646 6.68919 21.5817C7.14245 21.5987 7.57254 21.7864 7.89326 22.1071C8.21399 22.4278 8.40167 22.8579 8.41869 23.3112C8.43571 23.7644 8.28081 24.2074 7.98504 24.5513C7.79523 24.7745 7.69596 25.0608 7.70681 25.3537C7.71765 25.6465 7.83783 25.9247 8.04363 26.1333L10.6294 28.719C10.8481 28.9373 11.1445 29.0599 11.4535 29.0599C11.7625 29.0599 12.0589 28.9373 12.2776 28.719L22.8479 18.1487C23.1026 17.8936 23.2948 17.5829 23.4093 17.2411C23.4314 17.1751 23.4686 17.1152 23.5178 17.066C23.567 17.0168 23.6269 16.9797 23.6929 16.9575C24.0346 16.8432 24.3453 16.6512 24.6005 16.3968L28.722 12.2747C28.9395 12.056 29.0615 11.7601 29.0614 11.4516C29.0613 11.1432 28.939 10.8473 28.7214 10.6288ZM15.3403 8.89149C15.2533 8.97856 15.1499 9.04764 15.0361 9.09476C14.9224 9.14189 14.8005 9.16615 14.6773 9.16615C14.5542 9.16615 14.4323 9.14189 14.3185 9.09476C14.2048 9.04764 14.1014 8.97856 14.0143 8.89149L13.3399 8.21707C13.1684 8.04037 13.0733 7.80327 13.0751 7.55701C13.077 7.31075 13.1757 7.07511 13.3498 6.90101C13.524 6.72691 13.7597 6.62833 14.006 6.62659C14.2522 6.62484 14.4893 6.72007 14.6659 6.89168L15.3403 7.56551C15.4274 7.65257 15.4965 7.75593 15.5436 7.86968C15.5907 7.98344 15.615 8.10536 15.615 8.2285C15.615 8.35163 15.5907 8.47356 15.5436 8.58731C15.4965 8.70107 15.4274 8.80443 15.3403 8.89149ZM17.9184 11.4696C17.7426 11.6453 17.5043 11.744 17.2557 11.744C17.0072 11.744 16.7688 11.6453 16.593 11.4696L15.9485 10.8251C15.8615 10.738 15.7924 10.6347 15.7453 10.5209C15.6982 10.4071 15.6739 10.2852 15.6739 10.1621C15.6739 10.039 15.6982 9.91704 15.7453 9.80328C15.7924 9.68953 15.8615 9.58617 15.9485 9.4991C16.1244 9.32327 16.3628 9.22448 16.6115 9.22448C16.7346 9.22448 16.8566 9.24874 16.9703 9.29586C17.0841 9.34297 17.1874 9.41204 17.2745 9.4991L17.919 10.1436C18.0064 10.2307 18.0757 10.3341 18.1231 10.448C18.1704 10.5619 18.1948 10.684 18.1949 10.8074C18.1949 10.9307 18.1706 11.0529 18.1234 11.1668C18.0762 11.2807 18.0069 11.3842 17.9196 11.4714L17.9184 11.4696ZM20.4966 14.0477C20.4095 14.1348 20.3061 14.2039 20.1924 14.251C20.0786 14.2981 19.9567 14.3224 19.8336 14.3224C19.7104 14.3224 19.5885 14.2981 19.4748 14.251C19.361 14.2039 19.2576 14.1348 19.1706 14.0477L18.5261 13.4032C18.3545 13.2265 18.2594 12.9894 18.2613 12.7431C18.2631 12.4969 18.3618 12.2612 18.536 12.0871C18.7101 11.913 18.9458 11.8145 19.1921 11.8127C19.4383 11.811 19.6754 11.9062 19.852 12.0778L20.4966 12.7223C20.5842 12.8093 20.6538 12.9126 20.7014 13.0265C20.749 13.1403 20.7736 13.2625 20.7739 13.3859C20.7741 13.5093 20.75 13.6316 20.703 13.7456C20.6559 13.8597 20.5867 13.9634 20.4995 14.0507L20.4966 14.0477ZM23.0999 16.6575C23.0128 16.7446 22.9095 16.8137 22.7957 16.8608C22.682 16.9079 22.56 16.9322 22.4369 16.9322C22.3138 16.9322 22.1918 16.9079 22.0781 16.8608C21.9643 16.8137 21.861 16.7446 21.7739 16.6575L21.1036 15.9837C21.0147 15.8969 20.9439 15.7933 20.8954 15.6789C20.8469 15.5645 20.8216 15.4416 20.821 15.3173C20.8204 15.1931 20.8445 15.07 20.892 14.9551C20.9394 14.8403 21.0091 14.736 21.0972 14.6483C21.1853 14.5607 21.2899 14.4914 21.405 14.4446C21.5201 14.3977 21.6433 14.3742 21.7676 14.3754C21.8918 14.3766 22.0146 14.4025 22.1287 14.4516C22.2429 14.5006 22.3461 14.5719 22.4325 14.6612L23.1034 15.3345C23.1904 15.4215 23.2595 15.5249 23.3065 15.6387C23.3536 15.7525 23.3778 15.8744 23.3778 15.9976C23.3777 16.1207 23.3534 16.2426 23.3062 16.3563C23.2591 16.4701 23.1899 16.5734 23.1028 16.6604L23.0999 16.6575Z"
                                             fill="white" />
                                     </svg>
                                 </div>
                                 <div class="d_semi_1_sec">
                                     <svg xmlns="http://www.w3.org/2000/svg" width="72" height="84"
                                         viewBox="0 0 72 84" fill="none">
                                         <path
                                             d="M0 83.5C0 65.035 5.84146 47.0433 16.6883 32.1C27.5352 17.1567 42.8314 6.02794 60.3876 0.306448L71.2326 33.5839C60.6988 37.0168 51.5211 43.694 45.013 52.66C38.5049 61.626 35 72.421 35 83.5H0Z"
                                             fill="#00AB08" />
                                     </svg>
                                     <div class="d_semi_1_sec_2">
                                         <svg xmlns="http://www.w3.org/2000/svg" width="115" height="89"
                                             viewBox="0 0 115 89" fill="none">
                                             <path
                                                 d="M0.400971 4.30211C13.5834 0.00834635 27.5974 -1.0915 41.2883 1.09319C54.9792 3.27789 67.9549 8.68459 79.1464 16.8678C90.3378 25.0509 99.4245 35.7764 105.658 48.1602C111.891 60.544 115.092 74.2317 114.998 88.0955L79.9989 87.8573C80.0555 79.539 78.1347 71.3264 74.3947 63.8961C70.6548 56.4658 65.2027 50.0306 58.4879 45.1207C51.773 40.2107 43.9875 36.9667 35.773 35.6559C27.5585 34.3451 19.1501 35.005 11.2406 37.5813L0.400971 4.30211Z"
                                                 fill="#00C301" />
                                         </svg>
                                     </div>
                                 </div>
                                 <div class="indicator_sec">
                                     <div class="ind_1_sec">
                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="12"
                                             viewBox="0 0 24 12" fill="none">
                                             <path
                                                 d="M0 12C0 10.4241 0.310389 8.86371 0.913446 7.4078C1.5165 5.95189 2.40042 4.62902 3.51472 3.51472C4.62902 2.40042 5.95189 1.5165 7.4078 0.913445C8.86371 0.310389 10.4241 0 12 0C13.5759 0 15.1363 0.310389 16.5922 0.913446C18.0481 1.5165 19.371 2.40042 20.4853 3.51472C21.5996 4.62902 22.4835 5.95189 23.0866 7.4078C23.6896 8.86371 24 10.4241 24 12H21C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68509C14.3522 3.23279 13.1819 3 12 3C10.8181 3 9.64778 3.23279 8.55585 3.68508C7.46392 4.13738 6.47177 4.80031 5.63604 5.63604C4.80031 6.47177 4.13738 7.46392 3.68508 8.55585C3.23279 9.64778 3 10.8181 3 12L0 12Z"
                                                 fill="#00AB08" fill-opacity="0.7" />
                                         </svg>
                                         <p class="ind_1">${data.open_ticket_service_req_source_count.request_from_email}%</p>
                                         <p class="ind_support">Email</p>
                                     </div>
                                     <div class="ind_2_sec">
                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="12"
                                             viewBox="0 0 24 12" fill="none">
                                             <path
                                                 d="M0 12C0 10.4241 0.310389 8.86371 0.913446 7.4078C1.5165 5.95189 2.40042 4.62902 3.51472 3.51472C4.62902 2.40042 5.95189 1.5165 7.4078 0.913445C8.86371 0.310389 10.4241 0 12 0C13.5759 0 15.1363 0.310389 16.5922 0.913446C18.0481 1.5165 19.371 2.40042 20.4853 3.51472C21.5996 4.62902 22.4835 5.95189 23.0866 7.4078C23.6896 8.86371 24 10.4241 24 12H21C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68509C14.3522 3.23279 13.1819 3 12 3C10.8181 3 9.64778 3.23279 8.55585 3.68508C7.46392 4.13738 6.47177 4.80031 5.63604 5.63604C4.80031 6.47177 4.13738 7.46392 3.68508 8.55585C3.23279 9.64778 3 10.8181 3 12L0 12Z"
                                                 fill="#00AB08" fill-opacity="0.7" />
                                         </svg>
                                         <p class="ind_1">${data.open_ticket_service_req_source_count.request_from_chat}%</p>
                                         <p class="ind_support">Chat</p>
                                     </div>
                                     <div class="ind_3_sec">
                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="12"
                                             viewBox="0 0 24 12" fill="none">
                                             <path
                                                 d="M0 12C0 10.4241 0.310389 8.86371 0.913446 7.4078C1.5165 5.95189 2.40042 4.62902 3.51472 3.51472C4.62902 2.40042 5.95189 1.5165 7.4078 0.913445C8.86371 0.310389 10.4241 0 12 0C13.5759 0 15.1363 0.310389 16.5922 0.913446C18.0481 1.5165 19.371 2.40042 20.4853 3.51472C21.5996 4.62902 22.4835 5.95189 23.0866 7.4078C23.6896 8.86371 24 10.4241 24 12H21C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68509C14.3522 3.23279 13.1819 3 12 3C10.8181 3 9.64778 3.23279 8.55585 3.68508C7.46392 4.13738 6.47177 4.80031 5.63604 5.63604C4.80031 6.47177 4.13738 7.46392 3.68508 8.55585C3.23279 9.64778 3 10.8181 3 12L0 12Z"
                                                 fill="#00AB08" fill-opacity="0.7" />
                                         </svg>
                                         <p class="ind_1">${data.open_ticket_service_req_source_count.request_from_phone}%</p>
                                         <p class="ind_support">Phone</p>
                                     </div>
                                     <div class="ind_4_sec">
                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="12"
                                             viewBox="0 0 24 12" fill="none">
                                             <path
                                                 d="M0 12C0 10.4241 0.310389 8.86371 0.913446 7.4078C1.5165 5.95189 2.40042 4.62902 3.51472 3.51472C4.62902 2.40042 5.95189 1.5165 7.4078 0.913445C8.86371 0.310389 10.4241 0 12 0C13.5759 0 15.1363 0.310389 16.5922 0.913446C18.0481 1.5165 19.371 2.40042 20.4853 3.51472C21.5996 4.62902 22.4835 5.95189 23.0866 7.4078C23.6896 8.86371 24 10.4241 24 12H21C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68509C14.3522 3.23279 13.1819 3 12 3C10.8181 3 9.64778 3.23279 8.55585 3.68508C7.46392 4.13738 6.47177 4.80031 5.63604 5.63604C4.80031 6.47177 4.13738 7.46392 3.68508 8.55585C3.23279 9.64778 3 10.8181 3 12L0 12Z"
                                                 fill="#00AB08" fill-opacity="0.7" />
                                         </svg>
                                         <p class="ind_1">${data.open_ticket_service_req_source_count.request_from_internal}%</p>
                                         <p class="ind_support">Internal</p>
                                     </div>
                                     <div class="bottom_sec">
                                         <p class="bottom_number">${data.yesterday_created_ticket_status_count.                                            
                                            yesterday_created_opened_ticket_status_count}</p>
                                         <p class="bottom_text">Tickets Raised Yesterday </p>
                                     </div>
                                 </div>
                             </div>
                          </div>
                         <div class="col-sm-6 col-md-6">
                             <div class="dashboard_card_1_even">
                                 <div class="d_cardText">Tickets Answered
                                     <p class="d_cardNumber">${data.todays_created_ticket_status_count.
                                        todays_created_answered_ticket_status_count}</p>
                                 </div>
                                 <div class="d_ticketIcon">
                                     <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"
                                         viewBox="0 0 32 32" fill="none">
                                         <path d="M12.5856 18L23.5856 7H3V29H25V8.41438L14 19.4144L12.5856 18Z"
                                             fill="white" />
                                         <path d="M20 3V5H25.5856L23.5856 7L25 8.41438L27 6.41437V12H29V3H20Z"
                                             fill="white" />
                                     </svg>
                                 </div>
                                 <div class="d_semi_1_sec">
                                     <svg xmlns="http://www.w3.org/2000/svg" width="72" height="84"
                                         viewBox="0 0 72 84" fill="none">
                                         <path
                                             d="M0 83.5C0 65.035 5.84146 47.0433 16.6883 32.1C27.5352 17.1567 42.8314 6.02794 60.3876 0.306448L71.2326 33.5839C60.6988 37.0168 51.5211 43.694 45.013 52.66C38.5049 61.626 35 72.421 35 83.5H0Z"
                                             fill="#00AB08" />
                                     </svg>
                                     <div class="d_semi_1_sec_21">
                                         <svg xmlns="http://www.w3.org/2000/svg" width="115" height="89"
                                             viewBox="0 0 115 89" fill="none">
                                             <path
                                                 d="M0.400971 4.30211C13.5834 0.00834635 27.5974 -1.0915 41.2883 1.09319C54.9792 3.27789 67.9549 8.68459 79.1464 16.8678C90.3378 25.0509 99.4245 35.7764 105.658 48.1602C111.891 60.544 115.092 74.2317 114.998 88.0955L79.9989 87.8573C80.0555 79.539 78.1347 71.3264 74.3947 63.8961C70.6548 56.4658 65.2027 50.0306 58.4879 45.1207C51.773 40.2107 43.9875 36.9667 35.773 35.6559C27.5585 34.3451 19.1501 35.005 11.2406 37.5813L0.400971 4.30211Z"
                                                 fill="#00C301" />
                                         </svg>
                                     </div>
                                 </div>
                                 <div class="indicator_sec1">
                                     <div class="ind_1_sec">
                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="12"
                                             viewBox="0 0 24 12" fill="none">
                                             <path
                                                 d="M0 12C0 10.4241 0.310389 8.86371 0.913446 7.4078C1.5165 5.95189 2.40042 4.62902 3.51472 3.51472C4.62902 2.40042 5.95189 1.5165 7.4078 0.913445C8.86371 0.310389 10.4241 0 12 0C13.5759 0 15.1363 0.310389 16.5922 0.913446C18.0481 1.5165 19.371 2.40042 20.4853 3.51472C21.5996 4.62902 22.4835 5.95189 23.0866 7.4078C23.6896 8.86371 24 10.4241 24 12H21C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68509C14.3522 3.23279 13.1819 3 12 3C10.8181 3 9.64778 3.23279 8.55585 3.68508C7.46392 4.13738 6.47177 4.80031 5.63604 5.63604C4.80031 6.47177 4.13738 7.46392 3.68508 8.55585C3.23279 9.64778 3 10.8181 3 12L0 12Z"
                                                 fill="#00AB08" fill-opacity="0.7" />
                                         </svg>
                                         <p class="ind_1">${data.answered_ticket_service_req_source_count.request_from_email}%</p>
                                         <p class="ind_support">Email</p>
                                     </div>
                                     <div class="ind_2_sec">
                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="12"
                                             viewBox="0 0 24 12" fill="none">
                                             <path
                                                 d="M0 12C0 10.4241 0.310389 8.86371 0.913446 7.4078C1.5165 5.95189 2.40042 4.62902 3.51472 3.51472C4.62902 2.40042 5.95189 1.5165 7.4078 0.913445C8.86371 0.310389 10.4241 0 12 0C13.5759 0 15.1363 0.310389 16.5922 0.913446C18.0481 1.5165 19.371 2.40042 20.4853 3.51472C21.5996 4.62902 22.4835 5.95189 23.0866 7.4078C23.6896 8.86371 24 10.4241 24 12H21C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68509C14.3522 3.23279 13.1819 3 12 3C10.8181 3 9.64778 3.23279 8.55585 3.68508C7.46392 4.13738 6.47177 4.80031 5.63604 5.63604C4.80031 6.47177 4.13738 7.46392 3.68508 8.55585C3.23279 9.64778 3 10.8181 3 12L0 12Z"
                                                 fill="#00AB08" fill-opacity="0.7" />
                                         </svg>
                                         <p class="ind_1">${data.answered_ticket_service_req_source_count.request_from_chat}%</p>
                                         <p class="ind_support">Chat</p>
                                     </div>
                                     <div class="ind_3_sec">
                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="12"
                                             viewBox="0 0 24 12" fill="none">
                                             <path
                                                 d="M0 12C0 10.4241 0.310389 8.86371 0.913446 7.4078C1.5165 5.95189 2.40042 4.62902 3.51472 3.51472C4.62902 2.40042 5.95189 1.5165 7.4078 0.913445C8.86371 0.310389 10.4241 0 12 0C13.5759 0 15.1363 0.310389 16.5922 0.913446C18.0481 1.5165 19.371 2.40042 20.4853 3.51472C21.5996 4.62902 22.4835 5.95189 23.0866 7.4078C23.6896 8.86371 24 10.4241 24 12H21C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68509C14.3522 3.23279 13.1819 3 12 3C10.8181 3 9.64778 3.23279 8.55585 3.68508C7.46392 4.13738 6.47177 4.80031 5.63604 5.63604C4.80031 6.47177 4.13738 7.46392 3.68508 8.55585C3.23279 9.64778 3 10.8181 3 12L0 12Z"
                                                 fill="#00AB08" fill-opacity="0.7" />
                                         </svg>
                                         <p class="ind_1">${data.answered_ticket_service_req_source_count.request_from_phone}%</p>
                                         <p class="ind_support">Phone</p>
                                     </div>
                                     <div class="ind_4_sec">
                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="12"
                                             viewBox="0 0 24 12" fill="none">
                                             <path
                                                 d="M0 12C0 10.4241 0.310389 8.86371 0.913446 7.4078C1.5165 5.95189 2.40042 4.62902 3.51472 3.51472C4.62902 2.40042 5.95189 1.5165 7.4078 0.913445C8.86371 0.310389 10.4241 0 12 0C13.5759 0 15.1363 0.310389 16.5922 0.913446C18.0481 1.5165 19.371 2.40042 20.4853 3.51472C21.5996 4.62902 22.4835 5.95189 23.0866 7.4078C23.6896 8.86371 24 10.4241 24 12H21C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68509C14.3522 3.23279 13.1819 3 12 3C10.8181 3 9.64778 3.23279 8.55585 3.68508C7.46392 4.13738 6.47177 4.80031 5.63604 5.63604C4.80031 6.47177 4.13738 7.46392 3.68508 8.55585C3.23279 9.64778 3 10.8181 3 12L0 12Z"
                                                 fill="#00AB08" fill-opacity="0.7" />
                                         </svg>
                                         <p class="ind_1">${data.answered_ticket_service_req_source_count.request_from_internal}%</p>
                                         <p class="ind_support">Internal</p>
                                     </div>
                                     <div class="bottom_sec">
                                         <p class="bottom_number">${data.yesterday_created_ticket_status_count.
                                            yesterday_created_answered_ticket_status_count}</p>
                                         <p class="bottom_text">Tickets Answered Yesterday </p>
                                     </div>
                                 </div>
                             </div>
                         </div>
                             </div>
                             <div class="row responsive_card_class1">
                                 <div class="col-sm-6 col-md-6">
                                     <div class="dashboard_card_1">
                                         <div class="d_cardText">Tickets Resolved
                                             <p class="d_cardNumber">${data.todays_created_ticket_status_count.
                                                todays_created_resolved_ticket_status_count}</p>
                                         </div>
                                         <div class="d_ticketIcon">
                                             <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"
                                                 viewBox="0 0 32 32" fill="none">
                                                 <g clip-path="url(#clip0_227_3630)">
                                                     <path fill-rule="evenodd" clip-rule="evenodd"
                                                         d="M19.341 20.4512L20.636 21.6793L23.1892 19.0868C23.4273 18.8462 23.576 18.6524 23.8692 18.9543L24.8192 19.928C25.131 20.2368 25.1148 20.4168 24.8204 20.7043L21.1792 24.2818C20.5579 24.8905 20.6667 24.928 20.0367 24.3037L17.7417 22.0205C17.6104 21.8787 17.6248 21.7349 17.7685 21.593L18.8717 20.4493C19.0385 20.2737 19.1717 20.288 19.341 20.4512ZM21.3492 14.6793C21.9254 14.6793 22.4798 14.7493 23.0117 14.8799C23.0735 14.6455 23.0173 14.383 22.8454 14.1974L17.7373 9.09118C17.4679 8.8193 17.0135 8.81117 16.7329 9.06992L9.08604 16.7187C8.80729 16.9968 8.80729 17.4637 9.08604 17.7418L14.1754 22.8312C14.2773 22.9337 14.4048 22.9987 14.5379 23.0255C14.446 22.5749 14.3979 22.1087 14.3979 21.6305C14.3979 19.7112 15.176 17.973 16.4342 16.7155C17.6917 15.458 19.4298 14.6793 21.3492 14.6793ZM23.9698 15.1905C24.5804 15.4387 25.1454 15.7712 25.6554 16.1743L27.5573 14.2724C27.5085 14.2474 27.4617 14.2137 27.4167 14.1687L26.6773 13.4293C26.6573 13.4093 26.6429 13.3918 26.6267 13.3712C26.2454 12.8374 26.9704 12.2424 27.4167 12.6887L28.1567 13.4287C28.176 13.448 28.1904 13.4662 28.2067 13.4868C28.2267 13.5149 28.2442 13.5437 28.2579 13.5724L30.8554 10.9743C31.0098 10.8443 31.001 10.573 30.8654 10.4374L28.5085 8.08055C28.2331 8.2044 27.9428 8.292 27.6448 8.34118C24.8998 8.79305 22.8223 6.0093 23.9379 3.5093L21.5823 1.15367C21.4329 1.0043 21.1823 1.00617 21.0348 1.15367L18.4498 3.73805C18.481 3.75867 18.511 3.78305 18.5398 3.81242L19.2798 4.55242C19.2992 4.5718 19.3135 4.5893 19.3298 4.60992C19.711 5.14367 18.9867 5.73867 18.5398 5.2918L17.8004 4.55242C17.781 4.53305 17.7667 4.51493 17.7504 4.4943L17.7279 4.46055L4.44917 17.7387C4.49354 17.7624 4.53729 17.7955 4.57854 17.8368L5.31791 18.5762C5.33729 18.5955 5.35167 18.6137 5.36792 18.6337C5.74917 19.1674 5.02479 19.7618 4.57854 19.3155L3.83854 18.5762C3.81916 18.5562 3.80479 18.5387 3.78791 18.518C3.77104 18.4937 3.75604 18.4687 3.74291 18.4449L1.15354 21.0349C1.00666 21.1793 1.00792 21.4368 1.15354 21.5824L3.48854 23.9174C3.76604 23.7805 4.06042 23.6812 4.35979 23.6243C6.77104 23.1599 8.83979 25.2824 8.38479 27.6499C8.32696 27.9523 8.22835 28.2454 8.09167 28.5212L10.4267 30.8555C10.5754 31.0055 10.8267 31.003 10.9742 30.8555L13.556 28.2743C13.521 28.2518 13.4873 28.2249 13.4548 28.1924L12.7148 27.453C12.696 27.433 12.6817 27.4155 12.6648 27.3949C12.2842 26.8612 13.0079 26.2668 13.4548 26.713L14.1942 27.453C14.2142 27.4718 14.2279 27.4905 14.2448 27.5105L14.2742 27.5562L15.8929 25.9374C15.4504 25.368 15.086 24.7318 14.8279 24.0412C14.3373 24.0805 13.8329 23.9143 13.4623 23.5437L8.37292 18.4543C7.70292 17.7843 7.70292 16.6762 8.37292 16.0055L16.0335 8.34805C16.7073 7.70555 17.7879 7.71867 18.4473 8.3768L23.5685 13.498C24.0079 13.9618 24.141 14.613 23.9698 15.1905ZM26.4173 16.8737C27.5842 18.1168 28.3004 19.7905 28.3004 21.6305C28.3004 23.5499 27.5223 25.288 26.2648 26.5455C25.0073 27.803 23.2679 28.5818 21.3492 28.5818C19.5092 28.5818 17.8348 27.8649 16.5917 26.698L11.7042 31.5862L11.671 31.6087C11.1217 32.1374 10.2317 32.1299 9.68729 31.5862L7.07542 28.9749C6.90229 28.8018 6.88167 28.5237 7.01354 28.3199C7.16604 28.0855 7.27667 27.8299 7.34042 27.5668C7.75604 25.8399 6.21417 24.2237 4.44229 24.6487C4.18479 24.7099 3.93166 24.818 3.70229 24.9649C3.60373 25.0384 3.48221 25.0743 3.35954 25.0663C3.23688 25.0583 3.12107 25.0068 3.03291 24.9212L0.41354 22.303C-0.13146 21.7574 -0.142085 20.8568 0.40729 20.3024L20.2954 0.413675C20.8442 -0.135075 21.7485 -0.1407 22.3029 0.413675L24.9335 3.04367C25.0985 3.2093 25.1254 3.47617 25.0079 3.67555C23.906 5.42867 25.481 7.71867 27.5592 7.2868C27.8142 7.23305 28.0648 7.13742 28.2954 7.00117C28.5048 6.86992 28.7785 6.8893 28.9554 7.06617L31.586 9.6968C32.1379 10.248 32.1379 11.153 31.586 11.7043L26.4173 16.8737ZM20.7598 6.0318C20.3123 5.58555 19.5885 6.17992 19.9692 6.71367C19.986 6.73367 20.0004 6.75242 20.0192 6.77117L20.7592 7.51117C21.206 7.95805 21.9304 7.36305 21.5492 6.8293C21.5329 6.80867 21.5185 6.79117 21.4992 6.77117L20.7598 6.0318ZM22.9785 8.25055C22.5323 7.8043 21.8073 8.39867 22.1885 8.93305C22.2048 8.95305 22.2192 8.97118 22.2385 8.99055L22.9785 9.73055C23.4248 10.1768 24.1498 9.5818 23.7679 9.04867C23.7523 9.02805 23.7379 9.00992 23.7179 8.99055L22.9785 8.25055ZM25.1979 10.4699C24.751 10.0237 24.026 10.6187 24.4079 11.1518C24.4242 11.1718 24.4385 11.1905 24.4579 11.2099L25.1973 11.9493C25.6442 12.3962 26.3685 11.8012 25.9879 11.2674C25.971 11.2474 25.9567 11.2287 25.9373 11.2099L25.1979 10.4699ZM6.79729 20.0555C6.35104 19.6087 5.62667 20.2037 6.00792 20.7374C6.02417 20.7574 6.03854 20.7762 6.05792 20.7949L6.79729 21.5343C7.24354 21.9818 7.96854 21.3868 7.58729 20.8537C7.57104 20.8324 7.55666 20.8149 7.53666 20.7955L6.79729 20.0555ZM9.01667 22.2749C8.56979 21.8287 7.84542 22.4224 8.22667 22.9568C8.24292 22.9768 8.25729 22.9949 8.27729 23.0143L9.01667 23.7543C9.46292 24.2006 10.1873 23.6055 9.80667 23.0724C9.78979 23.0518 9.77542 23.0337 9.75667 23.0143L9.01667 22.2749ZM11.2354 24.4937C10.7892 24.0474 10.0654 24.6418 10.446 25.1755C10.4623 25.1955 10.4767 25.2143 10.496 25.233L11.2354 25.973C11.6823 26.4193 12.4067 25.8249 12.0254 25.2918C12.0092 25.2705 11.9948 25.253 11.9754 25.233L11.2354 24.4937ZM21.3492 15.7255C24.611 15.7255 27.2548 18.3693 27.2548 21.6305C27.2548 24.8918 24.611 27.5355 21.3492 27.5355C18.0879 27.5355 15.4442 24.8918 15.4442 21.6305C15.4442 18.3693 18.0879 15.7255 21.3492 15.7255Z"
                                                         fill="white" />
                                                 </g>
                                                 <defs>
                                                     <clipPath id="clip0_227_3630">
                                                         <rect width="32" height="32" fill="white" />
                                                     </clipPath>
                                                 </defs>
                                             </svg>
                                         </div>
                                         <div class="d_semi_1_sec">
                                             <svg xmlns="http://www.w3.org/2000/svg" width="72" height="84"
                                                 viewBox="0 0 72 84" fill="none">
                                                 <path
                                                     d="M0 83.5C0 65.035 5.84146 47.0433 16.6883 32.1C27.5352 17.1567 42.8314 6.02794 60.3876 0.306448L71.2326 33.5839C60.6988 37.0168 51.5211 43.694 45.013 52.66C38.5049 61.626 35 72.421 35 83.5H0Z"
                                                     fill="#00AB08" />
                                             </svg>
                                             <div class="d_semi_1_sec_2">
                                                 <svg xmlns="http://www.w3.org/2000/svg" width="115" height="89"
                                                     viewBox="0 0 115 89" fill="none">
                                                     <path
                                                         d="M0.400971 4.30211C13.5834 0.00834635 27.5974 -1.0915 41.2883 1.09319C54.9792 3.27789 67.9549 8.68459 79.1464 16.8678C90.3378 25.0509 99.4245 35.7764 105.658 48.1602C111.891 60.544 115.092 74.2317 114.998 88.0955L79.9989 87.8573C80.0555 79.539 78.1347 71.3264 74.3947 63.8961C70.6548 56.4658 65.2027 50.0306 58.4879 45.1207C51.773 40.2107 43.9875 36.9667 35.773 35.6559C27.5585 34.3451 19.1501 35.005 11.2406 37.5813L0.400971 4.30211Z"
                                                         fill="#00C301" />
                                                 </svg>
                                             </div>
                                         </div>
                                         <div class="indicator_sec">
                                             <div class="ind_1_sec">
                                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="12"
                                                     viewBox="0 0 24 12" fill="none">
                                                     <path
                                                         d="M0 12C0 10.4241 0.310389 8.86371 0.913446 7.4078C1.5165 5.95189 2.40042 4.62902 3.51472 3.51472C4.62902 2.40042 5.95189 1.5165 7.4078 0.913445C8.86371 0.310389 10.4241 0 12 0C13.5759 0 15.1363 0.310389 16.5922 0.913446C18.0481 1.5165 19.371 2.40042 20.4853 3.51472C21.5996 4.62902 22.4835 5.95189 23.0866 7.4078C23.6896 8.86371 24 10.4241 24 12H21C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68509C14.3522 3.23279 13.1819 3 12 3C10.8181 3 9.64778 3.23279 8.55585 3.68508C7.46392 4.13738 6.47177 4.80031 5.63604 5.63604C4.80031 6.47177 4.13738 7.46392 3.68508 8.55585C3.23279 9.64778 3 10.8181 3 12L0 12Z"
                                                         fill="#00AB08" fill-opacity="0.7" />
                                                 </svg>
                                                 <p class="ind_1">${data.resolved_ticket_service_req_source_count.request_from_email}%</p>
                                                 <p class="ind_support">Email</p>
                                             </div>
                                             <div class="ind_2_sec">
                                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="12"
                                                     viewBox="0 0 24 12" fill="none">
                                                     <path
                                                         d="M0 12C0 10.4241 0.310389 8.86371 0.913446 7.4078C1.5165 5.95189 2.40042 4.62902 3.51472 3.51472C4.62902 2.40042 5.95189 1.5165 7.4078 0.913445C8.86371 0.310389 10.4241 0 12 0C13.5759 0 15.1363 0.310389 16.5922 0.913446C18.0481 1.5165 19.371 2.40042 20.4853 3.51472C21.5996 4.62902 22.4835 5.95189 23.0866 7.4078C23.6896 8.86371 24 10.4241 24 12H21C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68509C14.3522 3.23279 13.1819 3 12 3C10.8181 3 9.64778 3.23279 8.55585 3.68508C7.46392 4.13738 6.47177 4.80031 5.63604 5.63604C4.80031 6.47177 4.13738 7.46392 3.68508 8.55585C3.23279 9.64778 3 10.8181 3 12L0 12Z"
                                                         fill="#00AB08" fill-opacity="0.7" />
                                                 </svg>
                                                 <p class="ind_1">${data.resolved_ticket_service_req_source_count.request_from_chat}%</p>
                                                 <p class="ind_support">Chat</p>
                                             </div>
                                             <div class="ind_3_sec">
                                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="12"
                                                     viewBox="0 0 24 12" fill="none">
                                                     <path
                                                         d="M0 12C0 10.4241 0.310389 8.86371 0.913446 7.4078C1.5165 5.95189 2.40042 4.62902 3.51472 3.51472C4.62902 2.40042 5.95189 1.5165 7.4078 0.913445C8.86371 0.310389 10.4241 0 12 0C13.5759 0 15.1363 0.310389 16.5922 0.913446C18.0481 1.5165 19.371 2.40042 20.4853 3.51472C21.5996 4.62902 22.4835 5.95189 23.0866 7.4078C23.6896 8.86371 24 10.4241 24 12H21C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68509C14.3522 3.23279 13.1819 3 12 3C10.8181 3 9.64778 3.23279 8.55585 3.68508C7.46392 4.13738 6.47177 4.80031 5.63604 5.63604C4.80031 6.47177 4.13738 7.46392 3.68508 8.55585C3.23279 9.64778 3 10.8181 3 12L0 12Z"
                                                         fill="#00AB08" fill-opacity="0.7" />
                                                 </svg>
                                                 <p class="ind_1">${data.resolved_ticket_service_req_source_count.request_from_phone}%</p>
                                                 <p class="ind_support">Phone</p>
                                             </div>
                                             <div class="ind_4_sec">
                                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="12"
                                                     viewBox="0 0 24 12" fill="none">
                                                     <path
                                                         d="M0 12C0 10.4241 0.310389 8.86371 0.913446 7.4078C1.5165 5.95189 2.40042 4.62902 3.51472 3.51472C4.62902 2.40042 5.95189 1.5165 7.4078 0.913445C8.86371 0.310389 10.4241 0 12 0C13.5759 0 15.1363 0.310389 16.5922 0.913446C18.0481 1.5165 19.371 2.40042 20.4853 3.51472C21.5996 4.62902 22.4835 5.95189 23.0866 7.4078C23.6896 8.86371 24 10.4241 24 12H21C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68509C14.3522 3.23279 13.1819 3 12 3C10.8181 3 9.64778 3.23279 8.55585 3.68508C7.46392 4.13738 6.47177 4.80031 5.63604 5.63604C4.80031 6.47177 4.13738 7.46392 3.68508 8.55585C3.23279 9.64778 3 10.8181 3 12L0 12Z"
                                                         fill="#00AB08" fill-opacity="0.7" />
                                                 </svg>
                                                 <p class="ind_1">${data.resolved_ticket_service_req_source_count.request_from_internal}%</p>
                                                 <p class="ind_support">Internal</p>
                                             </div>
                                             <div class="bottom_sec">
                                                 <p class="bottom_number">${data.yesterday_created_ticket_status_count.
                                                    yesterday_created_resolved_ticket_status_count}</p>
                                                 <p class="bottom_text">Tickets resolved Yesterday </p>
                                             </div>
                                         </div>
                                     </div>
                                 </div>
                                 <div class="col-sm-6 col-md-6">
                                     <div class="dashboard_card_1_even">
                                         <div class="d_cardText">Tickets Verified
                                             <p class="d_cardNumber">${data.todays_created_ticket_status_count.                                                
                                                todays_created_verified_ticket_status_count}</p>
                                         </div>
                                         <div class="d_ticketIcon">
                                             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                 viewBox="0 0 24 24" fill="none">
                                                 <path d="M15.75 5.25V18.75M8.25 5.25V18.75" stroke="white"
                                                     stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                                             </svg>
                                         </div>
                                         <div class="d_semi_1_sec">
                                             <svg xmlns="http://www.w3.org/2000/svg" width="72" height="84"
                                                 viewBox="0 0 72 84" fill="none">
                                                 <path
                                                     d="M0 83.5C0 65.035 5.84146 47.0433 16.6883 32.1C27.5352 17.1567 42.8314 6.02794 60.3876 0.306448L71.2326 33.5839C60.6988 37.0168 51.5211 43.694 45.013 52.66C38.5049 61.626 35 72.421 35 83.5H0Z"
                                                     fill="#00AB08" />
                                             </svg>
                                             <div class="d_semi_1_sec_21">
                                                 <svg xmlns="http://www.w3.org/2000/svg" width="115" height="89"
                                                     viewBox="0 0 115 89" fill="none">
                                                     <path
                                                         d="M0.400971 4.30211C13.5834 0.00834635 27.5974 -1.0915 41.2883 1.09319C54.9792 3.27789 67.9549 8.68459 79.1464 16.8678C90.3378 25.0509 99.4245 35.7764 105.658 48.1602C111.891 60.544 115.092 74.2317 114.998 88.0955L79.9989 87.8573C80.0555 79.539 78.1347 71.3264 74.3947 63.8961C70.6548 56.4658 65.2027 50.0306 58.4879 45.1207C51.773 40.2107 43.9875 36.9667 35.773 35.6559C27.5585 34.3451 19.1501 35.005 11.2406 37.5813L0.400971 4.30211Z"
                                                         fill="#00C301" />
                                                 </svg>
                                             </div>
                                         </div>
                                         <div class="indicator_sec1">
                                             <div class="ind_1_sec">
                                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="12"
                                                     viewBox="0 0 24 12" fill="none">
                                                     <path
                                                         d="M0 12C0 10.4241 0.310389 8.86371 0.913446 7.4078C1.5165 5.95189 2.40042 4.62902 3.51472 3.51472C4.62902 2.40042 5.95189 1.5165 7.4078 0.913445C8.86371 0.310389 10.4241 0 12 0C13.5759 0 15.1363 0.310389 16.5922 0.913446C18.0481 1.5165 19.371 2.40042 20.4853 3.51472C21.5996 4.62902 22.4835 5.95189 23.0866 7.4078C23.6896 8.86371 24 10.4241 24 12H21C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68509C14.3522 3.23279 13.1819 3 12 3C10.8181 3 9.64778 3.23279 8.55585 3.68508C7.46392 4.13738 6.47177 4.80031 5.63604 5.63604C4.80031 6.47177 4.13738 7.46392 3.68508 8.55585C3.23279 9.64778 3 10.8181 3 12L0 12Z"
                                                         fill="#00AB08" fill-opacity="0.7" />
                                                 </svg>
                                                 <p class="ind_1">${data.verified_ticket_service_req_source_count.request_from_email}%</p>
                                                 <p class="ind_support">Email</p>
                                             </div>
                                             <div class="ind_2_sec">
                                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="12"
                                                     viewBox="0 0 24 12" fill="none">
                                                     <path
                                                         d="M0 12C0 10.4241 0.310389 8.86371 0.913446 7.4078C1.5165 5.95189 2.40042 4.62902 3.51472 3.51472C4.62902 2.40042 5.95189 1.5165 7.4078 0.913445C8.86371 0.310389 10.4241 0 12 0C13.5759 0 15.1363 0.310389 16.5922 0.913446C18.0481 1.5165 19.371 2.40042 20.4853 3.51472C21.5996 4.62902 22.4835 5.95189 23.0866 7.4078C23.6896 8.86371 24 10.4241 24 12H21C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68509C14.3522 3.23279 13.1819 3 12 3C10.8181 3 9.64778 3.23279 8.55585 3.68508C7.46392 4.13738 6.47177 4.80031 5.63604 5.63604C4.80031 6.47177 4.13738 7.46392 3.68508 8.55585C3.23279 9.64778 3 10.8181 3 12L0 12Z"
                                                         fill="#00AB08" fill-opacity="0.7" />
                                                 </svg>
                                                 <p class="ind_1">${data.verified_ticket_service_req_source_count.request_from_chat}%</p>
                                                 <p class="ind_support">Chat</p>
                                             </div>
                                             <div class="ind_3_sec">
                                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="12"
                                                     viewBox="0 0 24 12" fill="none">
                                                     <path
                                                         d="M0 12C0 10.4241 0.310389 8.86371 0.913446 7.4078C1.5165 5.95189 2.40042 4.62902 3.51472 3.51472C4.62902 2.40042 5.95189 1.5165 7.4078 0.913445C8.86371 0.310389 10.4241 0 12 0C13.5759 0 15.1363 0.310389 16.5922 0.913446C18.0481 1.5165 19.371 2.40042 20.4853 3.51472C21.5996 4.62902 22.4835 5.95189 23.0866 7.4078C23.6896 8.86371 24 10.4241 24 12H21C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68509C14.3522 3.23279 13.1819 3 12 3C10.8181 3 9.64778 3.23279 8.55585 3.68508C7.46392 4.13738 6.47177 4.80031 5.63604 5.63604C4.80031 6.47177 4.13738 7.46392 3.68508 8.55585C3.23279 9.64778 3 10.8181 3 12L0 12Z"
                                                         fill="#00AB08" fill-opacity="0.7" />
                                                 </svg>
                                                 <p class="ind_1">${data.verified_ticket_service_req_source_count.request_from_phone}%</p>
                                                 <p class="ind_support">Phone</p>
                                             </div>
                                             <div class="ind_4_sec">
                                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="12"
                                                     viewBox="0 0 24 12" fill="none">
                                                     <path
                                                         d="M0 12C0 10.4241 0.310389 8.86371 0.913446 7.4078C1.5165 5.95189 2.40042 4.62902 3.51472 3.51472C4.62902 2.40042 5.95189 1.5165 7.4078 0.913445C8.86371 0.310389 10.4241 0 12 0C13.5759 0 15.1363 0.310389 16.5922 0.913446C18.0481 1.5165 19.371 2.40042 20.4853 3.51472C21.5996 4.62902 22.4835 5.95189 23.0866 7.4078C23.6896 8.86371 24 10.4241 24 12H21C21 10.8181 20.7672 9.64778 20.3149 8.55585C19.8626 7.46392 19.1997 6.47177 18.364 5.63604C17.5282 4.80031 16.5361 4.13738 15.4442 3.68509C14.3522 3.23279 13.1819 3 12 3C10.8181 3 9.64778 3.23279 8.55585 3.68508C7.46392 4.13738 6.47177 4.80031 5.63604 5.63604C4.80031 6.47177 4.13738 7.46392 3.68508 8.55585C3.23279 9.64778 3 10.8181 3 12L0 12Z"
                                                         fill="#00AB08" fill-opacity="0.7" />
                                                 </svg>
                                                 <p class="ind_1">${data.verified_ticket_service_req_source_count.request_from_internal}%</p>
                                                 <p class="ind_support">Internal</p>
                                             </div>
                                             <div class="bottom_sec">
                                                 <p class="bottom_number">${data.yesterday_created_ticket_status_count.
                                                    yesterday_created_verified_ticket_status_count}</p>
                                                 <p class="bottom_text">Tickets Raised Yesterday </p>
                                             </div>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                         </div>`
                
                var Unresolved_Ticket_Html =`   <div class="col-md-6 col-sm-6 bar_graph1">
                <div class="chart-sec_1">
                    <span class="header-align"> Unresolved tickets by priority vs  Status</span>
                    <div class="icon_sec">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none">
                            <rect width="24" height="24" rx="4" fill="#F6FFF1" />
                            <path
                        d="M5.07692 14C4.52609 14 3.99782 13.7893 3.60832 13.4142C3.21882 13.0391 3 12.5304 3 12C3 11.4696 3.21882 10.9609 3.60832 10.5858C3.99782 10.2107 4.52609 10 5.07692 10C5.62776 10 6.15603 10.2107 6.54553 10.5858C6.93503 10.9609 7.15385 11.4696 7.15385 12C7.15385 12.5304 6.93503 13.0391 6.54553 13.4142C6.15603 13.7893 5.62776 14 5.07692 14ZM12 14C11.4492 14 10.9209 13.7893 10.5314 13.4142C10.1419 13.0391 9.92308 12.5304 9.92308 12C9.92308 11.4696 10.1419 10.9609 10.5314 10.5858C10.9209 10.2107 11.4492 10 12 10C12.5508 10 13.0791 10.2107 13.4686 10.5858C13.8581 10.9609 14.0769 11.4696 14.0769 12C14.0769 12.5304 13.8581 13.0391 13.4686 13.4142C13.0791 13.7893 12.5508 14 12 14ZM18.9231 14C18.3722 14 17.844 13.7893 17.4545 13.4142C17.065 13.0391 16.8462 12.5304 16.8462 12C16.8462 11.4696 17.065 10.9609 17.4545 10.5858C17.844 10.2107 18.3722 10 18.9231 10C19.4739 10 20.0022 10.2107 20.3917 10.5858C20.7812 10.9609 21 11.4696 21 12C21 12.5304 20.7812 13.0391 20.3917 13.4142C20.0022 13.7893 19.4739 14 18.9231 14Z"
                                fill="#01B636" /></svg></div> <div class="view_sec">View all</div>
                </div>
                <div class="bottom-line"></div>
                <div class='row'>
                    <div class="col-md-2">
                        <div class="parent-div">
                            <div class="white-card">
                                <span><b>${data.priority_based_total_tickets_counts.total_tickets_in_critical_priority}</b> Urgent</span>
                                <div class="green-background1"></div>
                            </div>
                            <div class="white-card">
                                <span><b>${data.priority_based_total_tickets_counts.total_tickets_in_high_priority}</b> High</span>
                                <div class="green-background2"></div>
                            </div>
                            <div class="white-card">
                                <span><b>${data.priority_based_total_tickets_counts.total_tickets_in_medium_priority}</b> Medium</span>
                                <div class="green-background3"></div>
                            </div>
                            <div class="white-card">
                                <span><b>${data.priority_based_total_tickets_counts.total_tickets_in_low_priority}</b> Low</span>
                                <div class="green-background4"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8 custom_container">
                        <div class="graph-container">
                            <div class="custom_graph_container">
                                 <div id="chartContainer_new" style="height: 370px"></div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>`

        $('.card_div_dom').append(CardViewDOMHTML)
        
        $('.unresolved_ticket_count_div').append(Unresolved_Ticket_Html)
                
}
  
function HelpTopicData(response){

    Help_Topic_Html =''

    data = response

    help_desk_list = data.help_topic_list


    var Help_Topic_Html ='<div><div class="row second_sec_main dropdown_graph"> <div class="col-md-6 cluster_graph_div"><div class="ticket_text col-md-2">Help Topic</div>'
    Help_Topic_Html += '<div class="dropdown col-md-6">'
    Help_Topic_Html += '<select class="dropdown_graph" name="helptopic" id="helptopic">'
    Help_Topic_Html += '<option value="">--Select--</option>'
    
    
   
    help_desk_list.forEach((position, index) => {
         Help_Topic_Html += `<option value="${position.list_id}" ${index === 0 ? 'selected' : ''}>${position.name}</option>`;
    });
    Help_Topic_Html +='</select></div>'
    
        Help_Topic_Html +=` <div class="dot_container">
               
            </div>
            <div class="canvas_div" id="chartContainer_1" style="height: 300px; width: 100%;">
            </div>
            <div class="icon_sec_1">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <rect width="24" height="24" rx="4" fill="#F6FFF1" />
                    <path
                        d="M5.07692 14C4.52609 14 3.99782 13.7893 3.60832 13.4142C3.21882 13.0391 3 12.5304 3 12C3 11.4696 3.21882 10.9609 3.60832 10.5858C3.99782 10.2107 4.52609 10 5.07692 10C5.62776 10 6.15603 10.2107 6.54553 10.5858C6.93503 10.9609 7.15385 11.4696 7.15385 12C7.15385 12.5304 6.93503 13.0391 6.54553 13.4142C6.15603 13.7893 5.62776 14 5.07692 14ZM12 14C11.4492 14 10.9209 13.7893 10.5314 13.4142C10.1419 13.0391 9.92308 12.5304 9.92308 12C9.92308 11.4696 10.1419 10.9609 10.5314 10.5858C10.9209 10.2107 11.4492 10 12 10C12.5508 10 13.0791 10.2107 13.4686 10.5858C13.8581 10.9609 14.0769 11.4696 14.0769 12C14.0769 12.5304 13.8581 13.0391 13.4686 13.4142C13.0791 13.7893 12.5508 14 12 14ZM18.9231 14C18.3722 14 17.844 13.7893 17.4545 13.4142C17.065 13.0391 16.8462 12.5304 16.8462 12C16.8462 11.4696 17.065 10.9609 17.4545 10.5858C17.844 10.2107 18.3722 10 18.9231 10C19.4739 10 20.0022 10.2107 20.3917 10.5858C20.7812 10.9609 21 11.4696 21 12C21 12.5304 20.7812 13.0391 20.3917 13.4142C20.0022 13.7893 19.4739 14 18.9231 14Z"
                        fill="#01B636" />
                </svg>
            </div>
     
            <!-- <div class="bottom-line"></div> -->
        </div>
        <div class="col-md-5 pie_align">
                        <div class="pie_container">
                            <h5>Customer Satisfication Score</h5>
                        </div>
                        <div class="icon_sec_12">
                            <sv g xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none">
                                <rect width="24" height="24" rx="4" fill="#F6FFF1" />
                                <path
                                    d="M5.07692 14C4.52609 14 3.99782 13.7893 3.60832 13.4142C3.21882 13.0391 3 12.5304 3 12C3 11.4696 3.21882 10.9609 3.60832 10.5858C3.99782 10.2107 4.52609 10 5.07692 10C5.62776 10 6.15603 10.2107 6.54553 10.5858C6.93503 10.9609 7.15385 11.4696 7.15385 12C7.15385 12.5304 6.93503 13.0391 6.54553 13.4142C6.15603 13.7893 5.62776 14 5.07692 14ZM12 14C11.4492 14 10.9209 13.7893 10.5314 13.4142C10.1419 13.0391 9.92308 12.5304 9.92308 12C9.92308 11.4696 10.1419 10.9609 10.5314 10.5858C10.9209 10.2107 11.4492 10 12 10C12.5508 10 13.0791 10.2107 13.4686 10.5858C13.8581 10.9609 14.0769 11.4696 14.0769 12C14.0769 12.5304 13.8581 13.0391 13.4686 13.4142C13.0791 13.7893 12.5508 14 12 14ZM18.9231 14C18.3722 14 17.844 13.7893 17.4545 13.4142C17.065 13.0391 16.8462 12.5304 16.8462 12C16.8462 11.4696 17.065 10.9609 17.4545 10.5858C17.844 10.2107 18.3722 10 18.9231 10C19.4739 10 20.0022 10.2107 20.3917 10.5858C20.7812 10.9609 21 11.4696 21 12C21 12.5304 20.7812 13.0391 20.3917 13.4142C20.0022 13.7893 19.4739 14 18.9231 14Z"
                                    fill="#01B636" />
                            </svg>
                        </div>
                        <div id="piechart" style="height: 350px; width: 95%;"></div>
                        <div class="pie_view_sec_1">
                            <div class="pie_view_positive">Positive</div>
                        </div>
                        <div class="pie_text_d">
                            <p class="pie_positive_d">Positive</p>
                            <p class="pie_positive_number">${data.customer_ratings_total_count.postive_rating_count}</p>
                            <div class="pie_bottom_icon">
                                <sv g xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 10 10"
                                    fill="none">
                                    <path
                                        d="M1.59607 7.30762H8.40376C8.59607 7.30762 8.73069 7.05762 8.57684 6.88454L5.24992 2.80762C5.13453 2.65377 4.88453 2.65377 4.76915 2.80762L1.40376 6.88454C1.26915 7.05762 1.38453 7.30762 1.59607 7.30762Z"
                                        fill="#19A64A" />
                                </svg>
                            </div>
                            <div class="percent_ind"></div>
                        </div>
                        <div class="pie_text_d1">
                            <p class="pie_positive_d">Negative</p>
                            <p class="pie_positive_number">${data.customer_ratings_total_count.negative_rating_count}</p>
                            <div class="pie_bottom_icon">
                                <sv g xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 10 10"
                                    fill="none">
                                    <path
                                        d="M1.59607 2.69238H8.40376C8.59607 2.69238 8.73069 2.94238 8.57684 3.11546L5.24992 7.19238C5.13453 7.34623 4.88453 7.34623 4.76915 7.19238L1.40376 3.11546C1.26915 2.94238 1.38453 2.69238 1.59607 2.69238Z"
                                        fill="#BA1A1A" />
                                </svg>
                            </div>
                            <div class="percent_ind1"></div>
                        </div>
                    </div>

        </div></div>`
                             
    if(globalCompanyId==null){                                          
        $('.Help_topic_graph_div').append(Help_Topic_Html)
        $.ajax({
            url : "/service_desk/helptopic/",
            type: 'post',
            data: {
                "help_topic_id": help_desk_list[0].list_id,
                "company_id": loading_company_id
            },
        }).done(function (json_data){
            data = JSON.parse(json_data) 
            console.log("---- help topic based data --- ",data)
            help_topic_dropdown(data)
        })   
    }else{
        $('.Help_topic_graph_div').append(Help_Topic_Html)
        $.ajax({
            url : "/service_desk/helptopic/",
            type: 'post',
            data: {
                "help_topic_id": help_desk_list[0].list_id,
                "company_id": globalCompanyId
            },
        }).done(function (json_data){
            data = JSON.parse(json_data) 
            console.log("---- help topic based data --- ",data)
            help_topic_dropdown(data)
        })   
    }
    $("#helptopic").change(function() {
        var selectedValue = $("#helptopic").val();
        // alert("help topic",selectedValue)
        var csrf_data = $("input[name=csrfmiddlewaretoken]").val();
        $.ajax({
            url : "/service_desk/helptopic/",
            type: 'post',
            data: {
                "help_topic_id":selectedValue,
                "company_id": loading_company_id,
                csrfmiddlewaretoken: csrf_data
            },
        }).done(function (json_data){
            data = JSON.parse(json_data)
            console.log("---- help topic based data --- ",data)
            help_topic_dropdown(data)
        })
    })
}    

function help_topic_dropdown(response){
    data= response
    var chart = new CanvasJS.Chart("chartContainer_1", {
        animationEnabled: true,
    title:{
        text: ""
    },
    axisX: {
        title: "Priority"
    },
    axisY: {
        title: "Ticket Count",
        includeZero: true
    },
    legend: {
        cursor:"pointer",
        itemclick : toggleDataSeries
    },
    toolTip: {
        shared: true,
        content: toolTipFormatter
    },
    dataPointWidth: 25,


    data: [{
        type: "column",
        showInLegend: true,
        name: "Open",
        color: "#008A3A",
        dataPoints: [
            { label: "Critical", y: data.helptopic_critical_priority_status_count.helptopic_critical_priority_opened_ticket_count},
            { label: "High", y: data.helptopic_high_priority_status_count.helptopic_high_priority_opened_ticket_count },
            { label: "Medium", y: data.helptopic_medium_priority_status_count.helptopic_medium_priority_opened_ticket_count },
            { label: "Low", y: data.helptopic_low_priority_status_count.helptopic_low_priority_opened_ticket_count},
            
        ]
    },
    {
        type: "column",
        showInLegend: true,
        name: "Answer",
        color: "#00C301",
        dataPoints: [
            { label: "Critical", y: data.helptopic_critical_priority_status_count.helptopic_critical_priority_answered_ticket_count},
            { label: "High", y: data.helptopic_high_priority_status_count.helptopic_high_priority_answered_ticket_count },
            { label: "Medium", y: data.helptopic_medium_priority_status_count.helptopic_medium_priority_answered_ticket_count },
            { label: "Low", y: data.helptopic_low_priority_status_count.helptopic_low_priority_answered_ticket_count},
            
        ]
    },
    {
        type: "column",
        showInLegend: true,
        name: "Resolved",
        color: "#7AFD8E",
        dataPoints: [
            { label: "Critical", y: data.helptopic_critical_priority_status_count.helptopic_critical_priority_resolved_ticket_count},
            { label: "High", y: data.helptopic_high_priority_status_count.helptopic_high_priority_resolved_ticket_count },
            { label: "Medium", y: data.helptopic_medium_priority_status_count.helptopic_medium_priority_resolved_ticket_count },
            { label: "Low", y: data.helptopic_low_priority_status_count.helptopic_low_priority_resolved_ticket_count},
            
        ]
    },
    {
        type: "column",
        showInLegend: true,
        name: "Verified",
        color: "#C6FFC6",
        dataPoints: [
            { label: "Critical", y: data.helptopic_critical_priority_status_count.helptopic_critical_priority_verified_ticket_count},
            { label: "High", y: data.helptopic_high_priority_status_count.helptopic_high_priority_verified_ticket_count },
            { label: "Medium", y: data.helptopic_medium_priority_status_count.helptopic_medium_priority_verified_ticket_count },
            { label: "Low", y: data.helptopic_low_priority_status_count.helptopic_low_priority_verified_ticket_count},
            
        ]
    }],
    
    
    
});
chart.render();


function toolTipFormatter(e) {
    var str = "";
    var total = 0;
    var str3;
    var str2;
    for (var i = 0; i < e.entries.length; i++) {
        var str1 = "<span style= \"color:" + e.entries[i].dataSeries.color + "\">" + e.entries[i].dataSeries.name + "</span>: <strong>" + e.entries[i].dataPoint.y + "</strong> <br/>";
        total = e.entries[i].dataPoint.y + total;
        str = str.concat(str1);
    }
    str2 = "<strong>" + e.entries[0].dataPoint.label + "</strong> <br/>";
    str3 = "<span style = \"color:Tomato\">Total: </span><strong>" + total + "</strong><br/>";
    return (str2.concat(str)).concat(str3);
}

function toggleDataSeries(e) {
    if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
        e.dataSeries.visible = false;
    }
    else {
        e.dataSeries.visible = true;
    }
    chart.render();
}

}

        
                      
function Servicedesk_Monthwise_ticketcount(){
    if(globalCompanyId == null){
    $.ajax({
        url: "/service_desk/total_count_month_based/",
        method: "post",
        data:{
            "company_id": loading_company_id
        }
        }).done(function(json_data) {     
        var data = JSON.parse(json_data)
        console.log("monthly data ---",data)

        var chart = new CanvasJS.Chart("chartContainer_new", {
            toolTip: {
              shared: true  //disable here. 
            },
            title:{
              text: ""        
            },
              data: [
            {        
             type: "stackedColumn",       
             name: "open",
             color:'#008A3A',
             dataPoints: [
            {  y: data.total_ticket_status_count.open.week1, label:"Week 1"},
            {  y: data.total_ticket_status_count.open.week2, label:"Week 2"},
            {  y: data.total_ticket_status_count.open.week3, label:"Week 3"},
            {  y: data.total_ticket_status_count.open.week4, label:"Week 4"}
             ]
           },
           {        
             type: "stackedColumn",       
             name: "answered",
             color:'#00C301',
             dataPoints: [
            {  y: data.total_ticket_status_count.answered.week1, label:"Week 1"},
            {  y: data.total_ticket_status_count.answered.week2, label:"Week 2"},
            {  y: data.total_ticket_status_count.answered.week3, label:"Week 3"},
            {  y: data.total_ticket_status_count.answered.week4, label:"Week 4"}
             ]
           },
           {        
             type: "stackedColumn",       
             name: "resolved",
             color:'#7AFD8E',
             dataPoints: [
            {  y: data.total_ticket_status_count.resolved.week1, label:"Week 1"},
            {  y: data.total_ticket_status_count.resolved.week2, label:"Week 2"},
            {  y: data.total_ticket_status_count.resolved.week3, label:"Week 3"},
            {  y: data.total_ticket_status_count.resolved.week4, label:"Week 4"},
             ]
           },
           {        
             type: "stackedColumn",       
             name:"verified",
             color:'#C6FFC6',
             dataPoints: [
            {  y: data.total_ticket_status_count.verified.week1, label:"Week 1"},
            {  y: data.total_ticket_status_count.verified.week2, label:"Week 2"},
            {  y: data.total_ticket_status_count.verified.week3, label:"Week 3"},
            {  y: data.total_ticket_status_count.verified.week4, label:"Week 4"},
             ]
           }
           ]
         });
          
       chart.render();
    })
    }else{
        $.ajax({
            url: "/service_desk/total_count_month_based/",
            method: "post",
            data:{
                "company_id": globalCompanyId
            }
            }).done(function(json_data) {     
            var data = JSON.parse(json_data)
            console.log("monthlyyyy data",data)
    
            var chart = new CanvasJS.Chart("chartContainer_new", {
                toolTip: {
                  shared: true  //disable here. 
                },
                title:{
                  text: ""        
          
                },
                  data: [
                {        
                 type: "stackedColumn",       
                 name: "open",
                 color:'#19A64A',
                 dataPoints: [
                {  y: data.total_ticket_status_count.open.week1, label:"Week 1"},
                {  y: data.total_ticket_status_count.open.week2, label:"Week 2"},
                {  y: data.total_ticket_status_count.open.week3, label:"Week 3"},
                {  y: data.total_ticket_status_count.open.week4, label:"Week 4"}
                
                 ]
               },
               {        
                 type: "stackedColumn",       
                 name: "answered",
                 color:'#7AFD8E',
                 dataPoints: [
                {  y: data.total_ticket_status_count.answered.week1, label:"Week 1"},
                {  y: data.total_ticket_status_count.answered.week2, label:"Week 2"},
                {  y: data.total_ticket_status_count.answered.week3, label:"Week 3"},
                {  y: data.total_ticket_status_count.answered.week4, label:"Week 4"}
              
                 ]
               },
               {        
                 type: "stackedColumn",       
                 name: "resolved",
                 color:'#C6FFC6',
                 dataPoints: [
                {  y: data.total_ticket_status_count.resolved.week1, label:"Week 1"},
                {  y: data.total_ticket_status_count.resolved.week2, label:"Week 2"},
                {  y: data.total_ticket_status_count.resolved.week3, label:"Week 3"},
                {  y: data.total_ticket_status_count.resolved.week4, label:"Week 4"},
                 
                 ]
               },
               {        
                 type: "stackedColumn",       
                 name:"closed",
                 color:'#008A3A',
                 dataPoints: [
                {  y: data.total_ticket_status_count.closed.week1, label:"Week 1"},
                {  y: data.total_ticket_status_count.closed.week2, label:"Week 2"},
                {  y: data.total_ticket_status_count.closed.week3, label:"Week 3"},
                {  y: data.total_ticket_status_count.closed.week4, label:"Week 4"},
                 
                 ]
               }
               ]
             });
              
           chart.render();
        })
    }

    var dataPoints = [
        { label: "Positive", y:data.customer_ratings_total_count.postive_rating_count, color: "green" },
        { label: "Negative", y: data.customer_ratings_total_count.negative_rating_count, color: "lightgreen" }
    ];
    var chart = new CanvasJS.Chart("piechart", {
        animationEnabled: true,
    
        data: [{
            type: "pie",
            showInLegend: true,
            legendText: "{label}",
            dataPoints: dataPoints
        }]
    });
      
    chart.render();
}   


